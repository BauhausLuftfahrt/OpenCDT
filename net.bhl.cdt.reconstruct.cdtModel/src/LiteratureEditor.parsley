
import org.eclipse.emf.parsley.composite.FormControlFactory
import org.eclipse.emf.parsley.edit.IEditingStrategy
import org.eclipse.emf.parsley.edit.UndoableEditingStrategy
import org.eclipse.swt.SWT
import net.bhl.cdt.reconstruct.cdtmodel.CdtmodelOnSelectionFormView
import org.eclipse.emf.common.util.URI
import cdtliterature.Library
import net.bhl.cdt.reconstruct.cdtmodel.ReferenceDialog
import cdtliterature.CdtliteratureFactory
import java.util.List
import cdtliterature.Article
import cdtliterature.ALiteratureBase
import cdtliterature.Book
import net.bhl.cdt.reconstruct.cdtmodel.CDTLiteratureEditor
import cdtliterature.Inbook
import cdtliterature.Conference
import cdtliterature.Incollection
import cdtliterature.Inproceedings
import cdtliterature.Proceedings
import cdtliterature.Masterthesis
import cdtliterature.Unpublished
import cdtliterature.Phdthesis
import cdtliterature.Techreport
import net.bhl.cdt.reconstruct.cdtmodel.CustomPartControlFactory

/* net.bhl.cdt.reconstruct.cdtmodel EMF Parsley Dsl Module file */
module net.bhl.cdt.reconstruct.cdtliteratureeditor {
	
	parts {
		viewpart net.bhl.cdt.reconstruct.cdtliteratureeditor {
			viewname "CDTLiteratureEditor"
			viewclass CDTLiteratureEditor
		}
	}
	
	bindings{
		
		type IEditingStrategy -> UndoableEditingStrategy
		type FormControlFactory -> CustomPartControlFactory	
		
	}
	configurator {
		
		val lib = CdtliteratureFactory.eINSTANCE.getCdtliteraturePackage();
		
		resourceURI {
			
				CDTLiteratureEditor -> {
				return URI.createFileURI(
					System.getProperty("user.home") + "/runtime-net.bhl.cdt.client.e4.product/reference" +
						"/MyLibrary.library" );
					}
				}
				
				
	}			
	featuresProvider {
			features {
				Library -> name
				Article -> title, author, year, references, journal, path
				Book -> title, author, year, references, publisher, isbn, path
				Inbook -> title, author, year, references, pages, publisher, path
				Conference -> title, author, year, references, booktitle, path
				Incollection -> title, author, year, references, booktitle, publisher, path
				Inproceedings -> title, author, year, references, booktitle, path
				Proceedings -> title, author, year, references, path
				Techreport -> title, author, year, references, institution, path
				Phdthesis -> title, author, year, references, school, path
				Masterthesis -> title, author, year, references, school, path
				Unpublished -> title, author,  year, references, note
			}
	}

}
	